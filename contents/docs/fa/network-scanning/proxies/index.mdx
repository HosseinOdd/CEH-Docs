---
title: پروکسی‌ها و ناشناس‌سازها
description: استفاده از پروکسی برای مخفی کردن هویت و فرار از تشخیص در طول اسکن شبکه
---

## پروکسی چیست؟

یک سرور پروکسی به عنوان یک واسط بین سیستم شما و هدف عمل می‌کند، آدرس IP واقعی شما را پنهان کرده و ناشناسی را در طول فعالیت‌های شناسایی و اسکن شبکه فراهم می‌کند.

## چرا از پروکسی استفاده کنیم؟

- **پنهان کردن آدرس IP واقعی**
- **دور زدن محدودیت‌های مبتنی بر IP**
- **فرار از تشخیص IDS/IPS**
- **توزیع ترافیک اسکن**
- **دسترسی به محتوای محدود جغرافیایی**
- **جلوگیری از محدودیت نرخ**
- **حفاظت از هویت**

## انواع پروکسی

### پروکسی‌های HTTP/HTTPS
- فقط ترافیک وب
- می‌تواند درخواست‌های HTTP را بازرسی/تغییر دهد
- اغلب برای web scraping استفاده می‌شود
- ممکن است محتوا را کش کند

### پروکسی‌های SOCKS
- مستقل از پروتکل
- پشتیبانی از TCP/UDP
- همه‌کاره‌تر از HTTP
- بهتر برای ابزارهای اسکن مختلف

**SOCKS4**
- بدون احراز هویت
- بدون پشتیبانی UDP
- فقط IPv4

**SOCKS5**
- پشتیبانی از احراز هویت
- UDP و IPv4/IPv6
- امنیت بهتر

### پروکسی‌های شفاف
- کلاینت از پروکسی بی‌اطلاع است
- اغلب توسط ISPها استفاده می‌شود
- قابل تشخیص
- ناشناسی محدود

### پروکسی‌های ناشناس
- IP شما را پنهان می‌کنند
- خود را به عنوان پروکسی معرفی می‌کنند
- IP کلاینت را در هدرها ارسال نمی‌کنند

### پروکسی‌های Elite/High Anonymous
- IP شما را پنهان می‌کنند
- خود را به عنوان پروکسی معرفی نمی‌کنند
- بهترین ناشناسی
- گران‌ترین/نادرترین

## زنجیره پروکسی

### زنجیره پروکسی چیست؟
هدایت ترافیک از طریق چندین پروکسی به صورت متوالی برای افزایش ناشناسی و دشوار کردن ردیابی.

```
سیستم شما → پروکسی1 → پروکسی2 → پروکسی3 → هدف
```

### مزایا
- لایه‌های متعدد ناشناسی
- سخت‌تر برای ردیابی
- تنوع جغرافیایی
- افزونگی

### معایب
- اتصال کندتر
- نقاط شکست بیشتر
- راه‌اندازی پیچیده
- تأخیر افزایش یافته

## ProxyChains

### نصب
```bash
# Debian/Ubuntu
sudo apt-get install proxychains

# یا proxychains4 (نسخه جدیدتر)
sudo apt-get install proxychains4
```

### پیکربندی
```bash
# ویرایش فایل پیکربندی
sudo nano /etc/proxychains.conf

# یا برای proxychains4
sudo nano /etc/proxychains4.conf
```

### گزینه‌های پیکربندی

**زنجیره پویا**
```
dynamic_chain
# پروکسی‌های مرده را رد می‌کند، از موجودها استفاده می‌کند
```

**زنجیره دقیق**
```
strict_chain
# از همه پروکسی‌ها به ترتیب استفاده می‌کند، اگر یکی از کار بیفتد شکست می‌خورد
```

**زنجیره تصادفی**
```
random_chain
chain_len = 3  # تعداد پروکسی‌ها برای استفاده
# انتخاب تصادفی از لیست پروکسی
```

### اضافه کردن پروکسی‌ها
```bash
# در انتهای /etc/proxychains.conf
[ProxyList]
socks5  127.0.0.1  9050    # Tor
socks4  proxy1.com  1080
http    proxy2.com  8080    username  password
```

### استفاده
```bash
# اجرای هر دستور از طریق proxychains
proxychains <command>

# مثال‌ها
proxychains nmap -sT target.com
proxychains curl http://ifconfig.me
proxychains firefox
proxychains ssh user@target.com
```

## شبکه Tor

### Tor چیست؟
مسیریاب پیاز - ارتباط ناشناس را با مسیریابی از طریق رله‌های متعدد فراهم می‌کند.

### نصب
```bash
# Debian/Ubuntu
sudo apt-get install tor

# شروع سرویس
sudo systemctl start tor
sudo systemctl enable tor
```

### استفاده از Tor با ProxyChains
```bash
# Tor به طور پیش‌فرض در localhost:9050 اجرا می‌شود
# به proxychains.conf اضافه کنید:
socks5  127.0.0.1  9050

# استفاده با ابزارها
proxychains nmap -sT target.com
proxychains wget http://example.com
```

### مرورگر Tor
- مرورگر پیش‌پیکربندی شده
- آسان برای استفاده
- ویژگی‌های حریم خصوصی داخلی
- دسترسی به سایت‌های .onion

### Torsocks
```bash
# نصب
sudo apt-get install torsocks

# استفاده
torsocks <command>
torsocks curl http://check.torproject.org
```

## پروکسی‌های HTTP با ابزارها

### Curl
```bash
# پروکسی HTTP
curl -x http://proxy:8080 http://target.com

# پروکسی SOCKS
curl --socks5 proxy:1080 http://target.com

# با احراز هویت
curl -x http://user:pass@proxy:8080 http://target.com
```

### Wget
```bash
# تنظیم پروکسی در محیط
export http_proxy=http://proxy:8080
export https_proxy=http://proxy:8080

# یا استفاده از .wgetrc
echo "http_proxy = http://proxy:8080" >> ~/.wgetrc

# استفاده
wget http://target.com
```

### Nmap از طریق پروکسی
```bash
# پروکسی SOCKS (با proxychains)
proxychains nmap -sT target.com

# پروکسی HTTP (پشتیبانی محدود)
nmap --proxies http://proxy:8080 target.com
```

## VPN در مقابل پروکسی

### VPN (شبکه خصوصی مجازی)
**مزایا:**
- رمزگذاری تمام ترافیک
- حفاظت سیستم‌گستر
- امنیت بهتر
- اتصال پایدار

**معایب:**
- گران‌تر
- سرعت کندتر
- ممکن است لاگ نگه داشته شود
- نقطه خروج واحد

### پروکسی
**مزایا:**
- سریع‌تر از VPN
- مخصوص برنامه
- زنجیره چندین پروکسی
- اغلب گزینه‌های رایگان

**معایب:**
- بدون رمزگذاری (معمولاً)
- راه‌اندازی در هر برنامه
- کم امن‌تر
- ممکن است فعالیت را ثبت کند

## تونل‌سازی SSH

### فوروارد پورت پویا (پروکسی SOCKS)
```bash
# ایجاد پروکسی SOCKS در localhost:1080
ssh -D 1080 user@remote-server

# استفاده با proxychains
socks5  127.0.0.1  1080

# حالا ترافیک را از طریق تونل SSH هدایت کنید
proxychains firefox
```

### فوروارد پورت محلی
```bash
# فوروارد پورت محلی به سرویس از راه دور
ssh -L 8080:target.com:80 user@jump-server

# دسترسی از طریق localhost
curl http://localhost:8080
```

### فوروارد پورت از راه دور
```bash
# فوروارد پورت از راه دور به سرویس محلی
ssh -R 8080:localhost:80 user@remote-server
```

## یافتن پروکسی‌های عمومی

### لیست‌های پروکسی
- **لیست‌های پروکسی رایگان**: 
  - https://free-proxy-list.net
  - https://www.proxy-list.download
  - https://spys.one
  
- **سرویس‌های پولی**:
  - Bright Data (Luminati)
  - Smartproxy
  - Oxylabs

### تست پروکسی‌ها
```bash
# تست پروکسی با curl
curl -x http://proxy:port http://ifconfig.me

# بررسی ناشناسی
curl -x http://proxy:port http://www.whatismyip.com
```

## ابزارهای پروکسی

### Burp Suite
- رهگیری HTTP/HTTPS
- تغییر درخواست‌ها
- پروکسی داخلی
- تست برنامه وب

### Proxifier
- برنامه Windows/Mac
- هدایت هر برنامه از طریق پروکسی
- پشتیبانی از SOCKS و HTTP

### FoxyProxy
- افزونه مرورگر
- تغییر آسان پروکسی
- تطبیق الگو
- پروفایل‌های متعدد

## تست ناشناسی

### بررسی IP خود
```bash
# بدون پروکسی
curl http://ifconfig.me

# با پروکسی
proxychains curl http://ifconfig.me
```

### تست نشت DNS
- از https://dnsleaktest.com بازدید کنید
- اطمینان حاصل کنید درخواست‌های DNS از طریق پروکسی/VPN می‌روند

### تست نشت WebRTC
- WebRTC می‌تواند IP واقعی را فاش کند
- تست در https://browserleaks.com/webrtc

## بهترین روش‌ها

1. **از چندین پروکسی استفاده کنید**: زنجیره پروکسی‌ها برای ناشناسی بهتر
2. **ناشناسی را تأیید کنید**: همیشه قبل از عملیات واقعی تست کنید
3. **از SOCKS5 استفاده کنید**: همه‌کاره‌تر از پروکسی‌های HTTP
4. **روش‌ها را ترکیب کنید**: استفاده از Tor + VPN + پروکسی‌ها
5. **نشت‌ها را بررسی کنید**: نشت DNS، WebRTC، IPv6
6. **پروکسی‌ها را تغییر دهید**: پروکسی‌ها را به طور منظم تغییر دهید
7. **از سرویس‌های پولی استفاده کنید**: پروکسی‌های رایگان اغلب غیرقابل اعتماد هستند
8. **لاگ‌ها را نظارت کنید**: بررسی کنید که آیا پروکسی فعالیت را ثبت می‌کند

## اسکن با پروکسی‌ها

### Nmap
```bash
# از طریق پروکسی SOCKS
proxychains nmap -sT -Pn target.com

# نکته: -sT (TCP connect) مورد نیاز است، اسکن SYN کار نمی‌کند
```

### Nikto (اسکنر وب)
```bash
# پروکسی HTTP
nikto -h target.com -useproxy http://proxy:8080

# از طریق proxychains
proxychains nikto -h target.com
```

### Metasploit
```msfconsole
# تنظیم پروکسی در Metasploit
setg Proxies http://proxy:8080
setg ReverseAllowProxy true

# یا استفاده از proxychains
proxychains msfconsole
```

## ملاحظات قانونی و اخلاقی

⚠️ **هشدار**: 
- پروکسی‌ها ناشناسی کامل را تضمین نمی‌کنند
- مجریان قانون می‌توانند عملیات پیچیده را ردیابی کنند
- استفاده از پروکسی برای فعالیت‌های غیرقانونی همچنان غیرقانونی است
- همیشه قبل از تست مجوز بگیرید
- به شرایط خدمات ارائه‌دهنده پروکسی احترام بگذارید

## محدودیت‌های پروکسی‌ها

- **سرعت**: تأخیر اضافه شده
- **قابلیت اطمینان**: پروکسی‌ها می‌توانند از کار بیفتند
- **لاگ‌ها**: بسیاری از پروکسی‌ها فعالیت را ثبت می‌کنند
- **تشخیص**: هنوز قابل تشخیص است
- **سازگاری**: همه ابزارها از طریق پروکسی کار نمی‌کنند
- **نشت DNS**: درخواست‌های DNS ممکن است پروکسی را دور بزنند

## منابع

- پروژه Tor: https://www.torproject.org
- مستندات ProxyChains
- لیست‌های پروکسی رایگان (با احتیاط استفاده کنید)
- ابزارهای تست حریم خصوصی: browserleaks.com
